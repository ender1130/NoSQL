

MongoDB锁

MongoDB有一个让人头疼的全局锁(读写锁，允许并发读，而写会阻塞所有的读写)，要命的是这个锁不是表级的，
不是库级的，而是整个Server级别的，这让人听起来是不是非常的蛋疼。

在2.2版本以前，mongodb 只有全局锁。从2.2版本开始，大部分读写操作只锁一个库，相对之前版本，这个粒度
已经下降。例如如果一个 mongod 实例上有 5 个库，如果只对一个库中的一个集合执行写操作，那么在写操作过
程中，这个库被锁，而其它 5 个库不影响。
